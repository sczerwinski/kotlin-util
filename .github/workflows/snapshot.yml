# SNAPSHOT artifacts upload for every commit on develop branch

name: Snapshot Release

on:
  push:
    branches: [develop]

jobs:

  snapshotRelease:

    name: Publish To OSSRH Snapshot Repository
    runs-on: ubuntu-latest

    steps:

      - name: Checkout
        uses: actions/checkout@v2

      - name: Setup Java 1.8
        uses: actions/setup-java@v1
        with:
          java-version: 1.8

      - name: Publish To OSSRH Snapshot Repository
        env:
          ORG_GRADLE_PROJECT_signingKeyId: ${{ secrets.signingKeyId }}
          ORG_GRADLE_PROJECT_signingKey: ${{ secrets.signingKey }}
          ORG_GRADLE_PROJECT_signingPassword: ${{ secrets.signingPassword }}
          SONATYPE_USERNAME: ${{ secrets.ossrhUsername }}
          SONATYPE_PASSWORD: ${{ secrets.ossrhPassword }}
        run: ./gradlew build publish
